{"version":3,"sources":["data-api/api.js","components/List/List.module.css","components/List/ListItems/ListItems.module.css","components/List/ListItems/ListItems.jsx","components/List/List.jsx","components/HomePage/HomePage.jsx"],"names":["axios","require","defaults","baseURL","params","api_key","fetchTrend","a","page","get","data","fetchSearch","search","fetchDetail","id","fetchCast","fetchReview","module","exports","ListItems","path","useRouteMatch","length","map","elem","i","undefined","original_title","className","s","trend__list__item","trend__link__item","to","onClick","localStorage","setItem","trend__p","List","flag","query","useState","setData","useEffect","hits","results","console","error","gethTrend","gethSearch","trend__h1","trend__list","HomePage","value","setValue","getItem"],"mappings":"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","file":"static/js/HomePage.b0d23371.chunk.js","sourcesContent":["const axios = require('axios');\n\naxios.defaults.baseURL = 'https://api.themoviedb.org/3';\nconst apiKey = '78f2432cb0b978404715fbeff43c36be';\n\naxios.defaults.params = {\n  api_key: apiKey,\n};\n\nconst fetchTrend = async (page = 1) => {\n  const { data } = await axios.get(`/trending/all/day?page=${page}`);\n  return data;\n};\n\nconst fetchSearch = async (search, page = 1) => {\n  const { data } = await axios.get(\n    `/search/movie?language=en-US&page=${page}&include_adult=false&query=${search}`,\n  );\n  return data;\n};\n\nconst fetchDetail = async id => {\n  const { data } = await axios.get(`/movie/${id}?language=en-US`);\n  return data;\n};\n\nconst fetchCast = async id => {\n  const { data } = await axios.get(`/movie/${id}/credits?language=en-US`);\n  return data;\n};\n\nconst fetchReview = async (id, page = 1) => {\n  const { data } = await axios.get(\n    `/movie/${id}/reviews?language=en-US&page=${page}`,\n  );\n  return data;\n};\n\nexport { fetchTrend, fetchSearch, fetchDetail, fetchCast, fetchReview };\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"trend__h1\":\"List_trend__h1__aC1y3\",\"trend__list\":\"List_trend__list__3ubSu\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"trend__p\":\"ListItems_trend__p__1iwQw\",\"trend__list__item\":\"ListItems_trend__list__item__3nurX\",\"trend__link__item\":\"ListItems_trend__link__item__3Mx3C\"};","import React from 'react';\nimport { Link, useRouteMatch } from 'react-router-dom';\n\nimport s from './ListItems.module.css';\n\nconst ListItems = ({ data }) => {\n  const { path } = useRouteMatch();\n\n  return data.length > 0 ? (\n    data.map((elem, i) => {\n      if (elem.original_title !== undefined) {\n        return (\n          <li key={i} className={s.trend__list__item}>\n            <Link\n              className={s.trend__link__item}\n              to={`/movies/${i}`}\n              onClick={() => localStorage.setItem('path', path)}\n            >\n              {elem.original_title}\n            </Link>\n          </li>\n        );\n      }\n    })\n  ) : (\n    <p className={s.trend__p}>wait please...</p>\n  );\n};\nexport default ListItems;\n","import s from './List.module.css';\nimport { fetchTrend, fetchSearch } from '../../data-api/api';\nimport { useEffect, useState } from 'react';\nimport { Route } from 'react-router-dom';\nimport ListItems from './ListItems/ListItems';\n\nconst List = ({ flag, query }) => {\n  const [data, setData] = useState([]);\n\n  useEffect(() => {\n    async function gethTrend() {\n      try {\n        const hits = await fetchTrend();\n        if (hits === null || hits.length === 0) return;\n        setData(hits.results);\n      } catch (error) {\n        console.error(error);\n      }\n    }\n\n    async function gethSearch() {\n      try {\n        const hits = await fetchSearch(query);\n        if (hits === null || hits.length === 0) return;\n        setData(hits.results);\n      } catch (error) {\n        console.error(error);\n      }\n    }\n\n    if (flag) return gethTrend();\n    if (query && !flag) return gethSearch(query);\n  }, [query, flag]);\n\n  return (\n    <>\n      {flag && <h1 className={s.trend__h1}>Trending today...</h1>}\n      {!flag && !query && (\n        <h1 className={s.trend__h1}>\n          Trending today...We are in movies page i did it special,for preload...\n        </h1>\n      )}\n      <Route>\n        <ul className={s.trend__list}>\n          <ListItems data={data} />\n        </ul>\n      </Route>\n    </>\n  );\n};\n\nexport default List;\n","import { useState, useEffect } from 'react';\nimport List from '../List/List';\n\nconst HomePage = () => {\n  const [value, setValue] = useState(null);\n\n  useEffect(() => {\n    const query = localStorage.getItem('query');\n    setValue(query);\n  }, []);\n\n  return (\n    <>\n      <List flag={true} query={value} />\n    </>\n  );\n};\n\nexport default HomePage;\n"],"sourceRoot":""}