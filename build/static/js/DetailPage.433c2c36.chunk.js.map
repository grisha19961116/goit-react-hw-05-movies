{"version":3,"sources":["components/Detail/Detail.module.css","components/Library/ToggleLC/ToggleLC.module.css","components/Library/ToggleLC/ToggleLC.jsx","components/Detail/Detail.jsx","data-api/data-api.js"],"names":["module","exports","ToggleLC","movie","useState","isQueue","setIsQueue","isWatched","setIsWatched","useEffect","queue","localStorage","getItem","length","JSON","parse","filter","el","id","watched","className","s","queue_watched_wrapper","onClick","document","getElementById","classList","toggle","queue_watched_btn_add","queue_watched_btn_delete","film","find","textContent","push","setItem","stringify","toggleToQueue","toggleToWatched","Detail","useRouteMatch","params","data","setData","from","setFrom","fromLibrary","setFromLibrary","isLoading","setIsLoading","pathLibrary","path","a","getDetail","array","getIframe","iframe","key","results","backdrop_path","release_date","genres","original_title","popularity","overview","state","randomColor","Math","floor","random","toString","library","detail_btn_wrapper","Button","text","to","detail_wrapper","wrapper_description","detail_iframe_trailer","title","width","height","src","detail_img_trailer","alt","detail_description","detail_title","detail_data","detail_popularity","detail_genres_list","detail_genres_list_first_item","map","i","name","detail_genres_list_item","style","color","backgroundColor","background","detail_overview","detail_navigation_wrapper","detail_error","Loader","axios","require","defaults","baseURL","api_key","getTrend","page","get","getSearch","search","getCast","getReview"],"mappings":"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","file":"static/js/DetailPage.433c2c36.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"detail_wrapper\":\"Detail_detail_wrapper__2g3-U\",\"detail_btn_wrapper\":\"Detail_detail_btn_wrapper__vHQRb\",\"detail_navigation_wrapper\":\"Detail_detail_navigation_wrapper__bZ3Nt\",\"wrapper_description\":\"Detail_wrapper_description__c2nny\",\"detail_iframe_trailer\":\"Detail_detail_iframe_trailer__12nuf\",\"detail_img_trailer\":\"Detail_detail_img_trailer__jtSQf\",\"detail_description\":\"Detail_detail_description__CXzhA\",\"detail_title\":\"Detail_detail_title__1T2ek\",\"detail_data\":\"Detail_detail_data__3ePlD\",\"detail_popularity\":\"Detail_detail_popularity__KW7vT\",\"detail_overview\":\"Detail_detail_overview__3N9OT\",\"detail_genres_list\":\"Detail_detail_genres_list__34AWE\",\"detail_genres_list_first_item\":\"Detail_detail_genres_list_first_item__3tadl\",\"detail_genres_list_item\":\"Detail_detail_genres_list_item__1KLnF\",\"detail_error\":\"Detail_detail_error__1dO7d\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"queue_watched_wrapper\":\"ToggleLC_queue_watched_wrapper__mm2kW\",\"queue_watched_btn_add\":\"ToggleLC_queue_watched_btn_add__2l-CB\",\"glowing\":\"ToggleLC_glowing__13bjW\",\"queue_watched_btn_delete\":\"ToggleLC_queue_watched_btn_delete__18E_h\"};","import { useEffect, useState } from 'react';\n\nimport s from './ToggleLC.module.css';\n\nconst toggleToQueue = movie => {\n  const queue = document.getElementById('queue');\n  queue.classList.toggle(s.queue_watched_btn_add);\n  queue.classList.toggle(s.queue_watched_btn_delete);\n  let film = JSON.parse(localStorage.getItem('queue')) || [];\n  if (film.find(el => el.id === movie.id)) {\n    film = film.filter(el => el.id !== movie.id);\n    queue.textContent = 'Add to queue';\n  } else {\n    film.push(movie);\n    queue.textContent = 'Delete from queue';\n  }\n  localStorage.setItem('queue', JSON.stringify(film));\n};\n\nconst toggleToWatched = movie => {\n  const watched = document.getElementById('watched');\n  watched.classList.toggle(s.queue_watched_btn_add);\n  watched.classList.toggle(s.queue_watched_btn_delete);\n  let film = JSON.parse(localStorage.getItem('watched')) || [];\n  if (film.find(el => el.id === movie.id)) {\n    film = film.filter(el => el.id !== movie.id);\n    watched.textContent = 'Add to watched';\n  } else {\n    film.push(movie);\n    watched.textContent = 'Delete from watched';\n  }\n  localStorage.setItem('watched', JSON.stringify(film));\n};\n\nconst ToggleLC = ({ movie }) => {\n  const [isQueue, setIsQueue] = useState(null);\n  const [isWatched, setIsWatched] = useState(null);\n\n  useEffect(() => {\n    const queue = localStorage.getItem('queue');\n    if (queue !== null && queue.length > 0)\n      JSON.parse(queue).filter(el => {\n        if (el.id === movie.id) setIsQueue(true);\n      });\n    const watched = localStorage.getItem('watched');\n    if (watched !== null && watched.length > 0)\n      JSON.parse(watched).filter(el => {\n        if (el.id === movie.id) setIsWatched(true);\n      });\n  }, [movie.id]);\n\n  return (\n    <div className={s.queue_watched_wrapper}>\n      <button\n        id=\"queue\"\n        onClick={() => toggleToQueue(movie)}\n        className={\n          isQueue ? s.queue_watched_btn_delete : s.queue_watched_btn_add\n        }\n      >\n        {isQueue ? 'Delete from queue' : 'Add to queue'}\n      </button>\n      <button\n        id=\"watched\"\n        onClick={() => toggleToWatched(movie)}\n        className={\n          isWatched ? s.queue_watched_btn_delete : s.queue_watched_btn_add\n        }\n      >\n        {isWatched ? 'Delete from watched' : 'Add to watched'}\n      </button>\n    </div>\n  );\n};\n\nexport default ToggleLC;\n","import { useEffect, useState } from 'react';\nimport { useRouteMatch } from 'react-router-dom';\n\nimport s from './Detail.module.css';\nimport { getDetail, getIframe } from '../../data-api/data-api';\nimport Button from '../Navigation/Button/Button';\nimport ToggleLC from '../Library/ToggleLC/ToggleLC';\nimport Loader from '../Loader/Loader';\n\nfunction Detail() {\n  const { params } = useRouteMatch();\n  const id = params.id;\n  const [data, setData] = useState([]);\n  const [from, setFrom] = useState(null);\n  const [fromLibrary, setFromLibrary] = useState(null);\n  const [isLoading, setIsLoading] = useState(false);\n\n  useEffect(() => {\n    const pathLibrary = localStorage.getItem('library');\n    if (pathLibrary) return setFromLibrary(pathLibrary);\n    const path = localStorage.getItem('path');\n    if (!path) return;\n    setFrom(path);\n  }, []);\n\n  useEffect(() => {\n    (async function () {\n      try {\n        setIsLoading(true);\n        const array = await getDetail(id);\n        if (array === null || array.length === 0) return;\n        const iframe = await getIframe(id);\n        if (iframe === null || iframe.length === 0) return;\n\n        const state = await {\n          id: id,\n          key: iframe.results[0] ? iframe.results[0].key : null,\n          backdrop_path:\n            array.backdrop_path &&\n            `https://image.tmdb.org/t/p/w500/${array.backdrop_path}`,\n          release_date: array.release_date\n            ? array.release_date\n            : 'Data is missing...',\n          genres: array.genres ? array.genres : [],\n          original_title: array.original_title\n            ? array.original_title\n            : 'Title is missing...',\n          popularity: array.popularity ? array.popularity : 'is missing...',\n          overview: array.overview ? array.overview : 'Overview is missing',\n        };\n        setData(state);\n      } catch (err) {\n        setData(null);\n      } finally {\n        setIsLoading(false);\n      }\n    })();\n  }, [id]);\n\n  const randomColor = () => Math.floor(Math.random() * 16777215).toString(16);\n\n  const library = fromLibrary === '/library/watched' ? 'Watched' : 'Queue';\n\n  return (\n    <>\n      <div className={s.detail_btn_wrapper}>\n        <Button\n          text={fromLibrary ? library : from === '/' ? 'Home' : 'Movies'}\n          to={fromLibrary ? fromLibrary : from === '/' ? '/' : '/movies'}\n        />\n      </div>\n      {data && data.length !== 0 ? (\n        <div className={s.detail_wrapper}>\n          <ToggleLC movie={data} />\n          <div className={s.wrapper_description}>\n            {data.key ? (\n              <iframe\n                className={s.detail_iframe_trailer}\n                title=\"trailer\"\n                width=\"420\"\n                height=\"345\"\n                src={`https://www.youtube.com/embed/${data.key}`}\n              />\n            ) : (\n              <img\n                className={s.detail_img_trailer}\n                alt=\"trailer\"\n                src={\n                  data.backdrop_path\n                    ? data.backdrop_path\n                    : 'https://thumbs.dreamstime.com/z/illustration-red-unavailable-sign-white-background-174556653.jpg'\n                }\n                width=\"500px\"\n                height=\"300px\"\n              />\n            )}\n\n            <div className={s.detail_description}>\n              <h2 className={s.detail_title}>{data.original_title}</h2>\n              <h2 className={s.detail_data}>{data.release_date}</h2>\n              <h2 className={s.detail_popularity}>\n                Votes : {data.popularity + ' 💖'}\n              </h2>\n              <ul className={s.detail_genres_list}>\n                <li className={s.detail_genres_list_first_item} key=\"first\">\n                  Genres :\n                </li>\n                {data.genres.length !== 0 ? (\n                  data.genres.map(({ name }, i) => {\n                    return (\n                      <li\n                        className={s.detail_genres_list_item}\n                        style={{\n                          color: '#' + randomColor(),\n                          backgroundColor: '#' + randomColor(),\n                        }}\n                        key={i}\n                      >\n                        {name}\n                      </li>\n                    );\n                  })\n                ) : (\n                  <li\n                    className={s.detail_genres_list_item}\n                    style={{\n                      color: '#' + randomColor(),\n                      background: '#' + randomColor(),\n                    }}\n                    key=\"warn\"\n                  >\n                    not available!\n                  </li>\n                )}\n              </ul>\n              <h2 className={s.detail_overview}>{data.overview}</h2>\n            </div>\n          </div>\n          <div className={s.detail_navigation_wrapper}>\n            <Button text=\"Cast\" to={`/movies/${id}/cast`} />\n            <Button text=\"Review\" to={`/movies/${id}/review`} />\n          </div>\n        </div>\n      ) : (\n        <h3 className={s.detail_error}>Detail content is missed...</h3>\n      )}\n      {isLoading && <Loader />}\n    </>\n  );\n}\nexport default Detail;\n","const axios = require('axios');\n\naxios.defaults.baseURL = 'https://api.themoviedb.org/3';\nconst apiKey = '78f2432cb0b978404715fbeff43c36be';\n\naxios.defaults.params = {\n  api_key: apiKey,\n};\n\nconst getTrend = async page => {\n  const { data } = await axios.get(`/trending/all/day?page=${page}`);\n  return data;\n};\n\nconst getSearch = async (search, page) => {\n  const { data } = await axios.get(\n    `/search/movie?language=en-US&page=${page}&include_adult=false&query=${search}`,\n  );\n  return data;\n};\n\nconst getDetail = async id => {\n  const { data } = await axios.get(`/movie/${id}?language=en-US`);\n  return data;\n};\n\nconst getIframe = async id => {\n  const { data } = await axios.get(`/movie/${id}/videos?language=en-US`);\n  return data;\n};\n\nconst getCast = async id => {\n  const { data } = await axios.get(`/movie/${id}/credits?language=en-US`);\n  return data;\n};\n\nconst getReview = async (id, page = 1) => {\n  const { data } = await axios.get(\n    `/movie/${id}/reviews?language=en-US&page=${page}`,\n  );\n  return data;\n};\n\nexport { getTrend, getSearch, getDetail, getIframe, getCast, getReview };\n"],"sourceRoot":""}