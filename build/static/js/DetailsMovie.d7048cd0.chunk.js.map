{"version":3,"sources":["components/DetailsMovie/DetailsMovie.jsx","data-api/data-api.js","components/DetailsMovie/DetailsMovie.module.css"],"names":["DetailsMovie","id","useRouteMatch","params","useState","data","setData","from","setFrom","useEffect","path","localStorage","getItem","a","getDetail","array","length","console","error","genres","backdrop_path","original_title","release_date","popularity","overview","text","to","className","s","detail__wrapper","alt","src","width","height","detail_h2","slice","detail_h4","detail_h3","detail_h3_list","map","name","div_links","link","activeStyle","color","warning","warning__h1","axios","require","defaults","baseURL","api_key","getTrend","page","get","getSearch","search","getCast","getReview","module","exports"],"mappings":"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","file":"static/js/DetailsMovie.d7048cd0.chunk.js","sourcesContent":["import { useEffect, useState } from 'react';\nimport { useRouteMatch, NavLink } from 'react-router-dom';\n\nimport s from './DetailsMovie.module.css';\nimport { getDetail } from '../../data-api/data-api';\nimport Button from '../Navigation/Button/Button';\n\nfunction DetailsMovie() {\n  const { params } = useRouteMatch();\n  const id = params.id;\n  const [data, setData] = useState([]);\n  const [from, setFrom] = useState('/');\n\n  useEffect(() => {\n    const path = localStorage.getItem('path');\n    if (!path) return;\n    setFrom(path);\n  }, []);\n\n  useEffect(() => {\n    (async function () {\n      try {\n        const array = await getDetail(id);\n        if (array === null || array.length === 0) return;\n        setData(array);\n      } catch (error) {\n        console.error(error);\n      }\n    })();\n  }, [id]);\n\n  const {\n    genres,\n    backdrop_path,\n    original_title,\n    release_date,\n    popularity,\n    overview,\n  } = data;\n\n  return (\n    <div>\n      {genres && (\n        <Button\n          text={`back to ${from === '/' ? 'Home Page' : 'Search Bar'}`}\n          to={from}\n        />\n      )}\n      {genres && (\n        <>\n          <div className={s.detail__wrapper}>\n            <img\n              alt=\"s\"\n              src={`https://image.tmdb.org/t/p/w500/${backdrop_path}`}\n              width=\"500px\"\n              height=\"300px\"\n            />\n            <h2 className={s.detail_h2}>\n              {original_title} {release_date.slice(0, 4)}\n            </h2>\n            <h4 className={s.detail_h4}>User score : {popularity}</h4>\n            <h3 className={s.detail_h3}>Overview {overview}</h3>\n\n            <h3 className={s.detail_h3_list}>Genres</h3>\n            <ul>\n              {genres.map(({ name }) => {\n                return <li key={name}>{name}</li>;\n              })}\n            </ul>\n            <div className={s.div_links}>\n              <h3 className={s.detail_h3_list}>Additional information</h3>\n              <span>\n                <NavLink\n                  className={s.link}\n                  activeStyle={{ color: 'blue' }}\n                  to={`/movies/${id}/cast`}\n                >\n                  Cast\n                </NavLink>\n              </span>\n              <span>\n                <NavLink\n                  className={s.link}\n                  activeStyle={{ color: 'blue' }}\n                  to={`/movies/${id}/review`}\n                >\n                  Reviews\n                </NavLink>\n              </span>\n            </div>\n          </div>\n        </>\n      )}\n\n      {!genres && (\n        <div className={s.warning}>\n          <h1 className={s.warning__h1}>\n            We do not have details information about this film\n            {\n              <>\n                <Button\n                  text={`back to ${from === '/' ? 'Home Page' : 'Search Bar'}`}\n                  to={from}\n                />\n              </>\n            }\n          </h1>\n        </div>\n      )}\n    </div>\n  );\n}\nexport default DetailsMovie;\n","const axios = require('axios');\n\naxios.defaults.baseURL = 'https://api.themoviedb.org/3';\nconst apiKey = '78f2432cb0b978404715fbeff43c36be';\n\naxios.defaults.params = {\n  api_key: apiKey,\n};\n\nconst getTrend = async (page = 1) => {\n  const { data } = await axios.get(`/trending/all/day?page=${page}`);\n  return data;\n};\n\nconst getSearch = async (search, page = 1) => {\n  const { data } = await axios.get(\n    `/search/movie?language=en-US&page=${page}&include_adult=false&query=${search}`,\n  );\n  return data;\n};\n\nconst getDetail = async id => {\n  const { data } = await axios.get(`/movie/${id}?language=en-US`);\n  return data;\n};\n\nconst getCast = async id => {\n  const { data } = await axios.get(`/movie/${id}/credits?language=en-US`);\n  return data;\n};\n\nconst getReview = async (id, page = 1) => {\n  const { data } = await axios.get(\n    `/movie/${id}/reviews?language=en-US&page=${page}`,\n  );\n  return data;\n};\n\nexport { getTrend, getSearch, getDetail, getCast, getReview };\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"detail_h2\":\"DetailsMovie_detail_h2__2Ex9A\",\"detail_h4\":\"DetailsMovie_detail_h4__dxAh2\",\"detail_h3\":\"DetailsMovie_detail_h3__n6iXb\",\"detail__wrapper\":\"DetailsMovie_detail__wrapper__2fXDh\",\"detail_h3_list\":\"DetailsMovie_detail_h3_list__1z9rl\",\"div_links\":\"DetailsMovie_div_links__3rCnj\",\"link\":\"DetailsMovie_link__CdUrf\",\"warning\":\"DetailsMovie_warning__1J0NE\",\"warning__h1\":\"DetailsMovie_warning__h1__lWpFu\"};"],"sourceRoot":""}