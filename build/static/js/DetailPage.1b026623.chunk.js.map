{"version":3,"sources":["components/Detail/Detail.jsx","data-api/data-api.js","components/Detail/Detail.module.css"],"names":["Detail","id","useRouteMatch","params","useState","data","setData","from","setFrom","useEffect","path","localStorage","getItem","a","getDetail","array","length","getIframe","iframe","key","results","backdrop_path","release_date","genres","original_title","popularity","overview","console","error","randomColor","Math","floor","random","toString","className","s","detail__wrapper","detail_btn_wrapper","text","to","wrapper_description","detail_iframe_trailer","title","width","height","src","detail_img_trailer","alt","detail_description","detail_title","detail_data","detail_popularity","detail_genres_list","detail_genres_list_first_item","map","i","name","style","color","detail_overview","detail_navigation_wrapper","isRedirect","axios","require","defaults","baseURL","api_key","getTrend","page","get","getSearch","search","getCast","getReview","module","exports"],"mappings":"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","file":"static/js/DetailPage.1b026623.chunk.js","sourcesContent":["import { useEffect, useState } from 'react';\nimport { useRouteMatch } from 'react-router-dom';\n\nimport s from './Detail.module.css';\nimport { getDetail, getIframe } from '../../data-api/data-api';\nimport Button from '../Navigation/Button/Button';\n\nfunction Detail() {\n  const { params } = useRouteMatch();\n  const id = params.id;\n  const [data, setData] = useState([]);\n  const [from, setFrom] = useState('/');\n\n  useEffect(() => {\n    const path = localStorage.getItem('path');\n    if (!path) return;\n    setFrom(path);\n  }, []);\n\n  useEffect(() => {\n    (async function () {\n      try {\n        const array = await getDetail(id);\n        if (array === null || array.length === 0) return;\n        const iframe = await getIframe(id);\n        if (iframe === null || iframe.length === 0) return;\n\n        const data = {\n          key: iframe.results[0] ? iframe.results[0].key : null,\n          backdrop_path:\n            array.backdrop_path &&\n            `https://image.tmdb.org/t/p/w500/${array.backdrop_path}`,\n          release_date: array.release_date ? array.release_date : null,\n          genres: array.genres ? array.genres : null,\n          original_title: array.original_title ? array.original_title : null,\n          popularity: array.popularity ? array.popularity : null,\n          overview: array.overview ? array.overview : null,\n        };\n\n        setData(data);\n      } catch (error) {\n        console.error(error);\n      }\n    })();\n  }, [id]);\n\n  const randomColor = () => Math.floor(Math.random() * 16777215).toString(16);\n\n  const {\n    key,\n    backdrop_path,\n    release_date,\n    genres,\n    original_title,\n    popularity,\n    overview,\n  } = data;\n\n  return data ? (\n    <div className={s.detail__wrapper}>\n      <div className={s.detail_btn_wrapper}>\n        <Button text={from === '/' ? 'Home' : 'Movies'} to={from} />\n      </div>\n\n      <div className={s.wrapper_description}>\n        {key ? (\n          <iframe\n            className={s.detail_iframe_trailer}\n            title=\"trailer\"\n            width=\"420\"\n            height=\"345\"\n            src={`https://www.youtube.com/embed/${key}`}\n          />\n        ) : (\n          <img\n            className={s.detail_img_trailer}\n            alt=\"trailer\"\n            src={\n              backdrop_path\n                ? backdrop_path\n                : 'https://thumbs.dreamstime.com/z/illustration-red-unavailable-sign-white-background-174556653.jpg'\n            }\n            width=\"500px\"\n            height=\"300px\"\n          />\n        )}\n\n        <div className={s.detail_description}>\n          <h2 className={s.detail_title}>\n            {original_title ? original_title : 'Title is missing'}\n          </h2>\n          <h2 className={s.detail_data}>\n            {release_date ? release_date : 'Data is missing'}\n          </h2>\n          <h2 className={s.detail_popularity}>\n            Votes : {popularity ? popularity + ' ðŸ’–' : 'is missing'}\n          </h2>\n          <ul className={s.detail_genres_list}>\n            <li className={s.detail_genres_list_first_item} key=\"first\">\n              Genres :\n            </li>\n            {genres ? (\n              genres.map(({ name }, i) => {\n                return (\n                  <li style={{ color: '#' + randomColor() }} key={i}>\n                    {name},\n                  </li>\n                );\n              })\n            ) : (\n              <li style={{ color: '#' + randomColor() }} key=\"warn\">\n                not available!\n              </li>\n            )}\n          </ul>\n          <h2 className={s.detail_overview}>\n            {overview ? overview : 'Overview is missing'}\n          </h2>\n        </div>\n      </div>\n      <div className={s.detail_navigation_wrapper}>\n        <Button text=\"Cast\" to={`/movies/${id}/cast`} isRedirect={true} />\n        <Button text=\"Review\" to={`/movies/${id}/review`} isRedirect={true} />\n      </div>\n    </div>\n  ) : null;\n}\nexport default Detail;\n","const axios = require('axios');\n\naxios.defaults.baseURL = 'https://api.themoviedb.org/3';\nconst apiKey = '78f2432cb0b978404715fbeff43c36be';\n\naxios.defaults.params = {\n  api_key: apiKey,\n};\n\nconst getTrend = async (page = 1) => {\n  const { data } = await axios.get(`/trending/all/day?page=${page}`);\n  return data;\n};\n\nconst getSearch = async (search, page = 1) => {\n  const { data } = await axios.get(\n    `/search/movie?language=en-US&page=${page}&include_adult=false&query=${search}`,\n  );\n  return data;\n};\n\nconst getDetail = async id => {\n  const { data } = await axios.get(`/movie/${id}?language=en-US`);\n  return data;\n};\n\nconst getIframe = async id => {\n  const { data } = await axios.get(`/movie/${id}/videos?language=en-US`);\n  return data;\n};\n\nconst getCast = async id => {\n  const { data } = await axios.get(`/movie/${id}/credits?language=en-US`);\n  return data;\n};\n\nconst getReview = async (id, page = 1) => {\n  const { data } = await axios.get(\n    `/movie/${id}/reviews?language=en-US&page=${page}`,\n  );\n  return data;\n};\n\nexport { getTrend, getSearch, getDetail, getIframe, getCast, getReview };\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"detail__wrapper\":\"Detail_detail__wrapper__2LAy-\",\"detail_btn_wrapper\":\"Detail_detail_btn_wrapper__vHQRb\",\"detail_navigation_wrapper\":\"Detail_detail_navigation_wrapper__bZ3Nt\",\"wrapper_description\":\"Detail_wrapper_description__c2nny\",\"detail_iframe_trailer\":\"Detail_detail_iframe_trailer__12nuf\",\"detail_img_trailer\":\"Detail_detail_img_trailer__jtSQf\",\"detail_description\":\"Detail_detail_description__CXzhA\",\"detail_title\":\"Detail_detail_title__1T2ek\",\"detail_data\":\"Detail_detail_data__3ePlD\",\"detail_popularity\":\"Detail_detail_popularity__KW7vT\",\"detail_overview\":\"Detail_detail_overview__3N9OT\",\"detail_genres_list\":\"Detail_detail_genres_list__34AWE\",\"detail_genres_list_first_item\":\"Detail_detail_genres_list_first_item__3tadl\",\"detail_genres_list_item\":\"Detail_detail_genres_list_item__1KLnF\"};"],"sourceRoot":""}