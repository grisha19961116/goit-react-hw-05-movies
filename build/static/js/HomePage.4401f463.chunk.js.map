{"version":3,"sources":["data-api/data-api.js","components/Hits/Hits.module.css","components/Hits/HitsList/HitsList.module.css","img/360_F_17777112_qXha4dViITwacvljBhqexBJdA0w09W3p(1).png","components/Hits/HitsList/HitsList.jsx","components/Hits/Hits.jsx","components/Home/Home.jsx"],"names":["axios","require","defaults","baseURL","params","api_key","getTrend","a","page","get","data","getSearch","search","getDetail","id","getIframe","getCast","getReview","module","exports","HitsList","path","useRouteMatch","console","log","errImg","length","map","i","original_title","backdrop_path","title","className","s","hits_item","hits_link","to","onClick","localStorage","setItem","hits_img","alt","src","width","height","hits_title","Hits","flag","query","useState","setData","isLoading","setIsLoading","useEffect","err","toast","error","position","autoClose","hideProgressBar","closeOnClick","pauseOnHover","draggable","progress","undefined","warn","isTrue","results","trend","hits_list","Loader","HomePage","value","setValue","getItem"],"mappings":"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","file":"static/js/HomePage.4401f463.chunk.js","sourcesContent":["const axios = require('axios');\n\naxios.defaults.baseURL = 'https://api.themoviedb.org/3';\nconst apiKey = '78f2432cb0b978404715fbeff43c36be';\n\naxios.defaults.params = {\n  api_key: apiKey,\n};\n\nconst getTrend = async (page = 1) => {\n  const { data } = await axios.get(`/trending/all/day?page=${page}`);\n  return data;\n};\n\nconst getSearch = async (search, page = 1) => {\n  const { data } = await axios.get(\n    `/search/movie?language=en-US&page=${page}&include_adult=false&query=${search}`,\n  );\n  return data;\n};\n\nconst getDetail = async id => {\n  const { data } = await axios.get(`/movie/${id}?language=en-US`);\n  return data;\n};\n\nconst getIframe = async id => {\n  const { data } = await axios.get(`/movie/${id}/videos?language=en-US`);\n  return data;\n};\n\nconst getCast = async id => {\n  const { data } = await axios.get(`/movie/${id}/credits?language=en-US`);\n  return data;\n};\n\nconst getReview = async (id, page = 1) => {\n  const { data } = await axios.get(\n    `/movie/${id}/reviews?language=en-US&page=${page}`,\n  );\n  return data;\n};\n\nexport { getTrend, getSearch, getDetail, getIframe, getCast, getReview };\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"hits_list\":\"Hits_hits_list__FdrtX\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"hits_item\":\"HitsList_hits_item__1_Lqj\",\"hits_link\":\"HitsList_hits_link__2m4Sh\",\"hits_img\":\"HitsList_hits_img__1ftXX\",\"hits_title\":\"HitsList_hits_title__3L-VY\"};","export default __webpack_public_path__ + \"static/media/360_F_17777112_qXha4dViITwacvljBhqexBJdA0w09W3p(1).4c8afd6f.png\";","import React from 'react';\nimport { Link, useRouteMatch } from 'react-router-dom';\n\nimport errImg from '../../../img/360_F_17777112_qXha4dViITwacvljBhqexBJdA0w09W3p(1).png';\nimport s from './HitsList.module.css';\n\nconst HitsList = ({ data }) => {\n  const { path } = useRouteMatch();\n  console.log(errImg);\n\n  return data.length > 0\n    ? data.map(({ original_title, backdrop_path, id }, i) => {\n        console.log(!backdrop_path);\n        const title = original_title ? original_title : 'The film...';\n        return (\n          <li key={i} className={s.hits_item}>\n            <Link\n              className={s.hits_link}\n              to={`/movies/${id}`}\n              onClick={() => localStorage.setItem('path', path)}\n            >\n              <img\n                className={s.hits_img}\n                alt={original_title}\n                src={\n                  backdrop_path\n                    ? `https://image.tmdb.org/t/p/w500/${backdrop_path}`\n                    : errImg\n                }\n                width=\"500px\"\n                height=\"300px\"\n              />\n              <p className={s.hits_title}>{title}</p>\n            </Link>\n          </li>\n        );\n      })\n    : null;\n};\nexport default HitsList;\n","import { useEffect, useState } from 'react';\nimport { Route } from 'react-router-dom';\nimport { toast } from 'react-toastify';\n\nimport s from './Hits.module.css';\nimport { getTrend, getSearch } from '../../data-api/data-api';\nimport Loader from '../Loader/Loader';\nimport HitsList from './HitsList/HitsList';\n\nconst Hits = ({ flag, query }) => {\n  const [data, setData] = useState([]);\n  const [isLoading, setIsLoading] = useState(false);\n\n  useEffect(() => {\n    const err = () =>\n      toast.error(`üöÄ Server error!`, {\n        position: 'bottom-left',\n        autoClose: 3000,\n        hideProgressBar: false,\n        closeOnClick: true,\n        pauseOnHover: true,\n        draggable: true,\n        progress: undefined,\n      });\n\n    const warn = isTrue =>\n      toast.warn(\n        `‚ö†Ô∏è${\n          isTrue\n            ? `Not exist hits on '${query}'`\n            : 'Default hits is not available'\n        } !`,\n        {\n          position: 'bottom-left',\n          autoClose: 3000,\n          hideProgressBar: false,\n          closeOnClick: true,\n          pauseOnHover: true,\n          draggable: true,\n          progress: undefined,\n        },\n      );\n\n    async function trend() {\n      try {\n        setIsLoading(true);\n        const { results } = await getTrend();\n        if (results === null || results.length === 0) return warn(false);\n        setData(results);\n      } catch (e) {\n        err();\n      } finally {\n        setIsLoading(false);\n      }\n    }\n\n    async function search() {\n      try {\n        setIsLoading(true);\n        const { results } = await getSearch(query);\n        if (results === null || results.length === 0) return warn(true);\n        setData(results);\n      } catch (e) {\n        err(e);\n      } finally {\n        setIsLoading(false);\n      }\n    }\n\n    if (flag) return trend();\n    if (query && !flag) return search(query);\n  }, [query, flag]);\n\n  return (\n    <Route>\n      <ul className={s.hits_list}>\n        <HitsList data={data} />\n      </ul>\n      {isLoading && <Loader />}\n    </Route>\n  );\n};\n\nexport default Hits;\n","import { useState, useEffect } from 'react';\n\nimport Hits from '../Hits/Hits';\n\nconst HomePage = () => {\n  const [value, setValue] = useState(null);\n\n  useEffect(() => {\n    const query = localStorage.getItem('query');\n    setValue(query);\n  }, []);\n\n  return <Hits flag={true} query={value} />;\n};\n\nexport default HomePage;\n"],"sourceRoot":""}