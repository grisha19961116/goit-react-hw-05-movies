{"version":3,"sources":["components/Review/Review.module.css","components/Review/Review.jsx","data-api/data-api.js","img/360_F_17777112_qXha4dViITwacvljBhqexBJdA0w09W3p(1).png"],"names":["module","exports","Review","useState","data","setData","isLoading","setIsLoading","id","useRouteMatch","params","useEffect","a","getReview","results","toast","error","position","autoClose","hideProgressBar","closeOnClick","pauseOnHover","draggable","progress","undefined","review","profile","author_details","avatar_path","className","s","review_wrapper","review_block","review_title","author","review_img","alt","width","height","src","length","slice","errImg","review_created","created_at","review_updated","updated_at","review_link","href","url","target","content","review_error","axios","require","defaults","baseURL","api_key","getTrend","page","get","getSearch","search","getDetail","getIframe","getCast"],"mappings":"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","file":"static/js/DetailReview.8f240476.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"review_wrapper\":\"Review_review_wrapper__3y8Mf\",\"review_block\":\"Review_review_block__1yqre\",\"review_title\":\"Review_review_title__CPpuL\",\"review_img\":\"Review_review_img__3Pw_x\",\"review_created\":\"Review_review_created__3sW9A\",\"review_updated\":\"Review_review_updated__1PjhJ\",\"review_link\":\"Review_review_link__2nOLE\",\"review_error\":\"Review_review_error__3n_m1\"};","import { useEffect, useState } from 'react';\nimport { useRouteMatch } from 'react-router-dom';\nimport { toast } from 'react-toastify';\n\nimport s from './Review.module.css';\nimport { getReview } from '../../data-api/data-api';\nimport errImg from '../../img/360_F_17777112_qXha4dViITwacvljBhqexBJdA0w09W3p(1).png';\nimport Loader from '../Loader/Loader';\n\nfunction Review() {\n  const [data, setData] = useState(null);\n  const [isLoading, setIsLoading] = useState(false);\n  const {\n    params: { id },\n  } = useRouteMatch();\n\n  useEffect(() => {\n    async function review() {\n      try {\n        setIsLoading(true);\n        const { results } = await getReview(id);\n        setData(results[0]);\n      } catch (err) {\n        toast.error(`ðŸš€ Server error!`, {\n          position: 'bottom-left',\n          autoClose: 3000,\n          hideProgressBar: false,\n          closeOnClick: true,\n          pauseOnHover: true,\n          draggable: true,\n          progress: undefined,\n        });\n      } finally {\n        setIsLoading(false);\n      }\n    }\n    review();\n  }, [id]);\n\n  const profile =\n    data && data.author_details ? data.author_details.avatar_path : null;\n  const checkPhoto = () =>\n    profile.length < 40\n      ? `https://image.tmdb.org/t/p/w500${profile}`\n      : profile.slice(1);\n\n  return (\n    <>\n      {' '}\n      {data ? (\n        <div className={s.review_wrapper}>\n          <div className={s.review_block}>\n            <h3 className={s.review_title}>\n              Was written by '{data.author ? data.author : 'unknown author'}'...\n            </h3>\n            <img\n              className={s.review_img}\n              alt=\"Author_img is missed\"\n              width=\"180px\"\n              height=\"120px\"\n              src={profile ? checkPhoto() : errImg}\n            />\n            <h4 className={s.review_created}>\n              Was created{data.created_at ? data.created_at : 'is missed...'}\n            </h4>\n            <h4 className={s.review_updated}>\n              Was updated{data.updated_at ? data.updated_at : 'is missed...'}\n            </h4>\n            <a\n              className={s.review_link}\n              href={data.url ? data.url : '#'}\n              target=\"blank\"\n            >\n              Link for well of resource\n            </a>\n          </div>\n          {data.content ? data.content : 'Description is missed...'}\n        </div>\n      ) : (\n        <h3 className={s.review_error}>Review content is missed...</h3>\n      )}\n      {isLoading && <Loader />}\n    </>\n  );\n}\nexport default Review;\n","const axios = require('axios');\n\naxios.defaults.baseURL = 'https://api.themoviedb.org/3';\nconst apiKey = '78f2432cb0b978404715fbeff43c36be';\n\naxios.defaults.params = {\n  api_key: apiKey,\n};\n\nconst getTrend = async (page = 1) => {\n  const { data } = await axios.get(`/trending/all/day?page=${page}`);\n  return data;\n};\n\nconst getSearch = async (search, page = 1) => {\n  const { data } = await axios.get(\n    `/search/movie?language=en-US&page=${page}&include_adult=false&query=${search}`,\n  );\n  return data;\n};\n\nconst getDetail = async id => {\n  const { data } = await axios.get(`/movie/${id}?language=en-US`);\n  return data;\n};\n\nconst getIframe = async id => {\n  const { data } = await axios.get(`/movie/${id}/videos?language=en-US`);\n  return data;\n};\n\nconst getCast = async id => {\n  const { data } = await axios.get(`/movie/${id}/credits?language=en-US`);\n  return data;\n};\n\nconst getReview = async (id, page = 1) => {\n  const { data } = await axios.get(\n    `/movie/${id}/reviews?language=en-US&page=${page}`,\n  );\n  return data;\n};\n\nexport { getTrend, getSearch, getDetail, getIframe, getCast, getReview };\n","export default __webpack_public_path__ + \"static/media/360_F_17777112_qXha4dViITwacvljBhqexBJdA0w09W3p(1).4c8afd6f.png\";"],"sourceRoot":""}