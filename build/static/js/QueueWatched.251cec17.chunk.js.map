{"version":3,"sources":["../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/toConsumableArray.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/arrayWithoutHoles.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/iterableToArray.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/nonIterableSpread.js","components/Library/QueueWatched/QueueWatched.jsx","data-api/data-api.js","img/360_F_17777112_qXha4dViITwacvljBhqexBJdA0w09W3p(1).png","components/Hits/Hits.module.css","components/Hits/HitsList/HitsList.module.css","components/PaginationBar/PaginationBar.module.css","components/Hits/HitsList/HitsList.jsx","components/PaginationBar/PaginationBar.jsx","components/Hits/Hits.jsx"],"names":["_toConsumableArray","arr","Array","isArray","arrayLikeToArray","iter","Symbol","iterator","Object","from","unsupportedIterableToArray","TypeError","QueueWatched","flag","useState","data","setData","activePage","setActivePage","path","useRouteMatch","useEffect","a","localStorage","setItem","array","getItem","parsedArray","JSON","parse","dataDivided","forEach","el","i","console","log","length","err","error","page","Number","Hits","dataLibrary","total","handlePageChange","axios","require","defaults","baseURL","params","api_key","getTrend","get","getSearch","search","getDetail","id","getIframe","getCast","getReview","module","exports","HitsList","map","original_title","backdrop_path","className","s","hits_item","hits_link","to","hits_img","alt","src","errImg","width","height","hits_title","hits_list_error","PaginationBar","pagination_wrapper","itemClass","linkClass","itemsCountPerPage","totalItemsCount","pageRangeDisplayed","onChange","query","isLoading","setIsLoading","toast","position","autoClose","hideProgressBar","closeOnClick","pauseOnHover","draggable","progress","undefined","warn","isTrue","results","trend","hits_list","Loader"],"mappings":"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","file":"static/js/QueueWatched.251cec17.chunk.js","sourcesContent":["import arrayWithoutHoles from \"@babel/runtime/helpers/esm/arrayWithoutHoles\";\nimport iterableToArray from \"@babel/runtime/helpers/esm/iterableToArray\";\nimport unsupportedIterableToArray from \"@babel/runtime/helpers/esm/unsupportedIterableToArray\";\nimport nonIterableSpread from \"@babel/runtime/helpers/esm/nonIterableSpread\";\nexport default function _toConsumableArray(arr) {\n  return arrayWithoutHoles(arr) || iterableToArray(arr) || unsupportedIterableToArray(arr) || nonIterableSpread();\n}","import arrayLikeToArray from \"@babel/runtime/helpers/esm/arrayLikeToArray\";\nexport default function _arrayWithoutHoles(arr) {\n  if (Array.isArray(arr)) return arrayLikeToArray(arr);\n}","export default function _iterableToArray(iter) {\n  if (typeof Symbol !== \"undefined\" && Symbol.iterator in Object(iter)) return Array.from(iter);\n}","export default function _nonIterableSpread() {\n  throw new TypeError(\"Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}","import { useEffect, useState } from 'react';\nimport { useRouteMatch } from 'react-router-dom';\n\nimport Hits from '../../Hits/Hits';\n\nconst QueueWatched = ({ flag }) => {\n  const [data, setData] = useState([]);\n  const [activePage, setActivePage] = useState(1);\n  const { path } = useRouteMatch();\n\n  useEffect(() => {\n    (async function handleDivide() {\n      try {\n        localStorage.setItem('library', path);\n        const array = localStorage.getItem(flag);\n        const parsedArray = JSON.parse(array);\n        let dataDivided = [];\n        let arr = [];\n        parsedArray.forEach((el, i) => {\n          console.log(i);\n          arr = [...arr, el];\n          if (arr.length === 20) {\n            dataDivided = [...dataDivided, arr];\n            arr = [];\n            return;\n          }\n          if (parsedArray.length === i + 1) dataDivided = [...dataDivided, arr];\n        });\n        if (array) setData(dataDivided);\n      } catch (err) {\n        console.error(err);\n      }\n    })();\n  }, [flag, path]);\n\n  useEffect(() => {\n    const page = localStorage.getItem('page' + flag);\n    if (page) setActivePage(Number(page));\n  }, [flag]);\n\n  const handlePageChange = page => {\n    localStorage.setItem('page' + flag, page);\n    setActivePage(page);\n  };\n\n  console.log(data);\n  return (\n    <Hits\n      dataLibrary={data}\n      page={activePage}\n      total={data.length}\n      handlePageChange={handlePageChange}\n    />\n  );\n};\n\nexport default QueueWatched;\n","const axios = require('axios');\n\naxios.defaults.baseURL = 'https://api.themoviedb.org/3';\nconst apiKey = '78f2432cb0b978404715fbeff43c36be';\n\naxios.defaults.params = {\n  api_key: apiKey,\n};\n\nconst getTrend = async page => {\n  const { data } = await axios.get(`/trending/all/day?page=${page}`);\n  return data;\n};\n\nconst getSearch = async (search, page) => {\n  const { data } = await axios.get(\n    `/search/movie?language=en-US&page=${page}&include_adult=false&query=${search}`,\n  );\n  return data;\n};\n\nconst getDetail = async id => {\n  const { data } = await axios.get(`/movie/${id}?language=en-US`);\n  return data;\n};\n\nconst getIframe = async id => {\n  const { data } = await axios.get(`/movie/${id}/videos?language=en-US`);\n  return data;\n};\n\nconst getCast = async id => {\n  const { data } = await axios.get(`/movie/${id}/credits?language=en-US`);\n  return data;\n};\n\nconst getReview = async (id, page = 1) => {\n  const { data } = await axios.get(\n    `/movie/${id}/reviews?language=en-US&page=${page}`,\n  );\n  return data;\n};\n\nexport { getTrend, getSearch, getDetail, getIframe, getCast, getReview };\n","export default __webpack_public_path__ + \"static/media/360_F_17777112_qXha4dViITwacvljBhqexBJdA0w09W3p(1).4c8afd6f.png\";","// extracted by mini-css-extract-plugin\nmodule.exports = {\"hits_list\":\"Hits_hits_list__FdrtX\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"hits_item\":\"HitsList_hits_item__1_Lqj\",\"hits_link\":\"HitsList_hits_link__2m4Sh\",\"hits_img\":\"HitsList_hits_img__1ftXX\",\"hits_title\":\"HitsList_hits_title__3L-VY\",\"hits_list_error\":\"HitsList_hits_list_error__2f-nP\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"pagination_wrapper\":\"PaginationBar_pagination_wrapper__1fCaZ\"};","import React from 'react';\nimport { Link } from 'react-router-dom';\n\nimport errImg from '../../../img/360_F_17777112_qXha4dViITwacvljBhqexBJdA0w09W3p(1).png';\nimport s from './HitsList.module.css';\n\nconst HitsList = ({ data }) => {\n  return data.length > 0 ? (\n    data.map(({ original_title, backdrop_path, id }, i) => {\n      return (\n        <li key={i} className={s.hits_item}>\n          <Link className={s.hits_link} to={`/movies/${id}`}>\n            <img\n              className={s.hits_img}\n              alt={original_title ? original_title : 'title'}\n              src={\n                backdrop_path\n                  ? `https://image.tmdb.org/t/p/w500/${backdrop_path}`\n                  : errImg\n              }\n              width=\"500px\"\n              height=\"300px\"\n            />\n            <p className={s.hits_title}>\n              {original_title ? original_title : 'Unknown film...'}\n            </p>\n          </Link>\n        </li>\n      );\n    })\n  ) : (\n    <h3 className={s.hits_list_error}>List is empty...</h3>\n  );\n};\nexport default HitsList;\n","import Pagination from 'react-js-pagination';\nimport 'bootstrap/dist/css/bootstrap.min.css';\n\nimport s from './PaginationBar.module.css';\n\nfunction PaginationBar({ page, total, handlePageChange }) {\n  return (\n    <div className={s.pagination_wrapper}>\n      <Pagination\n        itemClass=\"page-item\"\n        linkClass=\"page-link\"\n        activePage={page}\n        itemsCountPerPage={1}\n        totalItemsCount={total}\n        pageRangeDisplayed={total > 5 ? 5 : total}\n        onChange={handlePageChange}\n      />\n    </div>\n  );\n}\n\nexport default PaginationBar;\n","import { useEffect, useState } from 'react';\nimport { Route } from 'react-router-dom';\nimport { toast } from 'react-toastify';\n\nimport s from './Hits.module.css';\nimport { getTrend, getSearch } from '../../data-api/data-api';\nimport Loader from '../Loader/Loader';\nimport HitsList from './HitsList/HitsList';\nimport Pagination from '../PaginationBar/PaginationBar';\n\nconst Hits = ({\n  flag,\n  query,\n  dataLibrary = null,\n  page,\n  handlePageChange,\n  total,\n}) => {\n  const [data, setData] = useState([]);\n  const [isLoading, setIsLoading] = useState(false);\n\n  useEffect(() => {\n    if (dataLibrary) {\n      return dataLibrary.length !== 0 && setData(dataLibrary[0]);\n    }\n    const err = () =>\n      toast.error(`🚀 Server error!`, {\n        position: 'bottom-left',\n        autoClose: 3000,\n        hideProgressBar: false,\n        closeOnClick: true,\n        pauseOnHover: true,\n        draggable: true,\n        progress: undefined,\n      });\n\n    const warn = isTrue =>\n      toast.warn(\n        `⚠️${\n          isTrue\n            ? `Not exist hits on '${query}'`\n            : 'Default hits is not available'\n        } !`,\n        {\n          position: 'bottom-left',\n          autoClose: 3000,\n          hideProgressBar: false,\n          closeOnClick: true,\n          pauseOnHover: true,\n          draggable: true,\n          progress: undefined,\n        },\n      );\n\n    async function trend() {\n      try {\n        setIsLoading(true);\n        const { results } = await getTrend(page);\n        if (results === null || results.length === 0) return warn(false);\n        setData(results);\n      } catch (e) {\n        err();\n      } finally {\n        setIsLoading(false);\n      }\n    }\n\n    async function search() {\n      try {\n        setIsLoading(true);\n        const { results } = await getSearch(query, page);\n        if (results === null || results.length === 0) return warn(true);\n        setData(results);\n      } catch (e) {\n        err(e);\n      } finally {\n        setIsLoading(false);\n      }\n    }\n\n    if (flag) return trend();\n    if (query && query !== '' && !flag) return search();\n    if (query === '' && !flag) return setData([]);\n  }, [query, flag, dataLibrary, page]);\n\n  console.log(data);\n  return (\n    <Route>\n      <ul className={s.hits_list}>\n        <HitsList data={data} />\n      </ul>\n      {handlePageChange && (\n        <Pagination\n          page={page}\n          total={total ? total : data.length}\n          handlePageChange={handlePageChange}\n        />\n      )}\n      {isLoading && <Loader />}\n    </Route>\n  );\n};\n\nexport default Hits;\n"],"sourceRoot":""}