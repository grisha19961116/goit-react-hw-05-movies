{"version":3,"sources":["components/Movies/Movies.module.css","components/Movies/Movies.jsx","data-api/data-api.js","img/360_F_17777112_qXha4dViITwacvljBhqexBJdA0w09W3p(1).png","components/Hits/Hits.module.css","components/Hits/HitsList/HitsList.module.css","components/PaginationBar/PaginationBar.module.css","components/Hits/HitsList/HitsList.jsx","components/PaginationBar/PaginationBar.jsx","components/Hits/Hits.jsx"],"names":["module","exports","MoviesPage","useState","value","setValue","activePage","setActivePage","useEffect","query","localStorage","getItem","page","Number","className","s","SearchBar","SearchForm","onSubmit","e","target","lastChild","toLowerCase","trim","setItem","preventDefault","type","SearchForm__button","SearchForm__input","autoComplete","autoFocus","placeholder","defaultValue","flag","handlePageChange","axios","require","defaults","baseURL","params","api_key","getTrend","a","get","data","getSearch","search","getDetail","id","getIframe","getCast","getReview","HitsList","length","map","i","original_title","backdrop_path","hits_item","hits_link","to","hits_img","alt","src","errImg","width","height","hits_title","hits_list_error","PaginationBar","total","pagination_wrapper","itemClass","linkClass","itemsCountPerPage","totalItemsCount","pageRangeDisplayed","onChange","Hits","dataLibrary","setData","isLoading","setIsLoading","err","toast","error","position","autoClose","hideProgressBar","closeOnClick","pauseOnHover","draggable","progress","undefined","warn","isTrue","results","trend","hits_list","Loader"],"mappings":"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","file":"static/js/MoviesPage.f614e5d4.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"SearchBar\":\"Movies_SearchBar__3CzUp\",\"SearchForm\":\"Movies_SearchForm__3qmf3\",\"SearchForm__button\":\"Movies_SearchForm__button__r68tS\",\"SearchForm__button-label\":\"Movies_SearchForm__button-label__1Wxsn\",\"SearchForm__input\":\"Movies_SearchForm__input__1fQkc\"};","import { useState, useEffect } from 'react';\n\nimport s from './Movies.module.css';\nimport Hits from '../Hits/Hits';\n\nfunction MoviesPage() {\n  const [value, setValue] = useState(null);\n  const [activePage, setActivePage] = useState(1);\n\n  useEffect(() => {\n    const query = localStorage.getItem('query');\n    setValue(query);\n    const page = localStorage.getItem('pageSearch');\n    if (page) setActivePage(Number(page));\n  }, []);\n\n  const handlerSubmit = e => {\n    const query = e.target.lastChild.value.toLowerCase().trim();\n    localStorage.setItem('query', query);\n    setValue(query);\n    e.preventDefault();\n    localStorage.setItem('pageSearch', 1);\n    setActivePage(1);\n  };\n\n  const handlePageChange = page => {\n    localStorage.setItem('pageSearch', page);\n    setActivePage(page);\n  };\n\n  return (\n    <>\n      <header className={s.SearchBar}>\n        <form className={s.SearchForm} onSubmit={handlerSubmit}>\n          <button type=\"submit\" className={s.SearchForm__button}>\n            <span className=\"s.SearchForm-button-label\"></span>\n          </button>\n          <input\n            className={s.SearchForm__input}\n            type=\"text\"\n            autoComplete=\"off\"\n            autoFocus\n            placeholder=\"Search images and photos...\"\n            defaultValue={value}\n          />\n        </form>\n      </header>\n      <Hits\n        flag={false}\n        query={value}\n        page={activePage}\n        handlePageChange={handlePageChange}\n      />\n    </>\n  );\n}\nexport default MoviesPage;\n","const axios = require('axios');\n\naxios.defaults.baseURL = 'https://api.themoviedb.org/3';\nconst apiKey = '78f2432cb0b978404715fbeff43c36be';\n\naxios.defaults.params = {\n  api_key: apiKey,\n};\n\nconst getTrend = async page => {\n  const { data } = await axios.get(`/trending/all/day?page=${page}`);\n  return data;\n};\n\nconst getSearch = async (search, page) => {\n  const { data } = await axios.get(\n    `/search/movie?language=en-US&page=${page}&include_adult=false&query=${search}`,\n  );\n  return data;\n};\n\nconst getDetail = async id => {\n  const { data } = await axios.get(`/movie/${id}?language=en-US`);\n  return data;\n};\n\nconst getIframe = async id => {\n  const { data } = await axios.get(`/movie/${id}/videos?language=en-US`);\n  return data;\n};\n\nconst getCast = async id => {\n  const { data } = await axios.get(`/movie/${id}/credits?language=en-US`);\n  return data;\n};\n\nconst getReview = async (id, page = 1) => {\n  const { data } = await axios.get(\n    `/movie/${id}/reviews?language=en-US&page=${page}`,\n  );\n  return data;\n};\n\nexport { getTrend, getSearch, getDetail, getIframe, getCast, getReview };\n","export default __webpack_public_path__ + \"static/media/360_F_17777112_qXha4dViITwacvljBhqexBJdA0w09W3p(1).4c8afd6f.png\";","// extracted by mini-css-extract-plugin\nmodule.exports = {\"hits_list\":\"Hits_hits_list__FdrtX\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"hits_item\":\"HitsList_hits_item__1_Lqj\",\"hits_link\":\"HitsList_hits_link__2m4Sh\",\"hits_img\":\"HitsList_hits_img__1ftXX\",\"hits_title\":\"HitsList_hits_title__3L-VY\",\"hits_list_error\":\"HitsList_hits_list_error__2f-nP\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"pagination_wrapper\":\"PaginationBar_pagination_wrapper__1fCaZ\"};","import React from 'react';\nimport { Link } from 'react-router-dom';\n\nimport errImg from '../../../img/360_F_17777112_qXha4dViITwacvljBhqexBJdA0w09W3p(1).png';\nimport s from './HitsList.module.css';\n\nconst HitsList = ({ data }) => {\n  return data.length > 0 ? (\n    data.map(({ original_title, backdrop_path, id }, i) => {\n      return (\n        <li key={i} className={s.hits_item}>\n          <Link className={s.hits_link} to={`/movies/${id}`}>\n            <img\n              className={s.hits_img}\n              alt={original_title ? original_title : 'title'}\n              src={\n                backdrop_path\n                  ? `https://image.tmdb.org/t/p/w500/${backdrop_path}`\n                  : errImg\n              }\n              width=\"500px\"\n              height=\"300px\"\n            />\n            <p className={s.hits_title}>\n              {original_title ? original_title : 'Unknown film...'}\n            </p>\n          </Link>\n        </li>\n      );\n    })\n  ) : (\n    <h3 className={s.hits_list_error}>List is empty...</h3>\n  );\n};\nexport default HitsList;\n","import Pagination from 'react-js-pagination';\nimport 'bootstrap/dist/css/bootstrap.min.css';\n\nimport s from './PaginationBar.module.css';\n\nfunction PaginationBar({ page, total, handlePageChange }) {\n  return (\n    <div className={s.pagination_wrapper}>\n      <Pagination\n        itemClass=\"page-item\"\n        linkClass=\"page-link\"\n        activePage={page}\n        itemsCountPerPage={1}\n        totalItemsCount={total}\n        pageRangeDisplayed={total > 5 ? 5 : total}\n        onChange={handlePageChange}\n      />\n    </div>\n  );\n}\n\nexport default PaginationBar;\n","import { useEffect, useState } from 'react';\nimport { Route } from 'react-router-dom';\nimport { toast } from 'react-toastify';\n\nimport s from './Hits.module.css';\nimport { getTrend, getSearch } from '../../data-api/data-api';\nimport Loader from '../Loader/Loader';\nimport HitsList from './HitsList/HitsList';\nimport Pagination from '../PaginationBar/PaginationBar';\n\nconst Hits = ({\n  flag,\n  query,\n  dataLibrary = null,\n  page,\n  handlePageChange,\n  total,\n}) => {\n  const [data, setData] = useState([]);\n  const [isLoading, setIsLoading] = useState(false);\n\n  useEffect(() => {\n    if (dataLibrary)\n      return dataLibrary.length !== 0 && setData(dataLibrary[page - 1]);\n    const err = () =>\n      toast.error(`🚀 Server error!`, {\n        position: 'bottom-left',\n        autoClose: 3000,\n        hideProgressBar: false,\n        closeOnClick: true,\n        pauseOnHover: true,\n        draggable: true,\n        progress: undefined,\n      });\n\n    const warn = isTrue =>\n      toast.warn(\n        `⚠️${\n          isTrue\n            ? `Not exist hits on '${query}'`\n            : 'Default hits is not available'\n        } !`,\n        {\n          position: 'bottom-left',\n          autoClose: 3000,\n          hideProgressBar: false,\n          closeOnClick: true,\n          pauseOnHover: true,\n          draggable: true,\n          progress: undefined,\n        },\n      );\n\n    async function trend() {\n      try {\n        setIsLoading(true);\n        const { results } = await getTrend(page);\n        if (results === null || results.length === 0) return warn(false);\n        setData(results);\n      } catch (e) {\n        err();\n      } finally {\n        setIsLoading(false);\n      }\n    }\n\n    async function search() {\n      try {\n        setIsLoading(true);\n        const { results } = await getSearch(query, page);\n        if (results === null || results.length === 0) return warn(true);\n        setData(results);\n      } catch (e) {\n        err(e);\n      } finally {\n        setIsLoading(false);\n      }\n    }\n\n    if (flag) return trend();\n    if (query && query !== '' && !flag) return search();\n    if (query === '' && !flag) return setData([]);\n  }, [query, flag, dataLibrary, page]);\n\n  return (\n    <Route>\n      <ul className={s.hits_list}>\n        <HitsList data={data} />\n      </ul>\n      {(total ? total : data.length) > 1 && handlePageChange && (\n        <Pagination\n          page={page}\n          total={total ? total : data.length}\n          handlePageChange={handlePageChange}\n        />\n      )}\n      {isLoading && <Loader />}\n    </Route>\n  );\n};\n\nexport default Hits;\n"],"sourceRoot":""}