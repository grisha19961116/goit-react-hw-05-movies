{"version":3,"sources":["components/Library/Parts/Toggle/Toggle.module.css","components/Library/Parts/Toggle/Toggle.jsx","components/Detail/Detail.jsx","data-api/data-api.js","components/Detail/Detail.module.css"],"names":["module","exports","Toggle","movie","useState","isQueue","setIsQueue","isWatched","setIsWatched","useEffect","queue","localStorage","getItem","length","JSON","parse","filter","el","id","watched","className","s","queue_watched_wrapper","onClick","document","getElementById","classList","toggle","queue_watched_btn_add","queue_watched_btn_delete","film","find","textContent","push","setItem","stringify","toggleToQueue","toggleToWatched","Detail","useRouteMatch","params","data","setData","from","setFrom","path","a","getDetail","array","getIframe","iframe","key","results","backdrop_path","release_date","genres","original_title","popularity","overview","state","randomColor","Math","floor","random","toString","detail_btn_wrapper","Button","text","to","detail_wrapper","wrapper_description","detail_iframe_trailer","title","width","height","src","detail_img_trailer","alt","detail_description","detail_title","detail_data","detail_popularity","detail_genres_list","detail_genres_list_first_item","map","i","name","detail_genres_list_item","style","color","backgroundColor","background","detail_overview","detail_navigation_wrapper","detail_error","axios","require","defaults","baseURL","api_key","getTrend","page","get","getSearch","search","getCast","getReview"],"mappings":"qGACAA,EAAOC,QAAU,CAAC,sBAAwB,sCAAsC,sBAAwB,sCAAsC,QAAU,wBAAwB,yBAA2B,2C,qJC0E5LC,EAzCA,SAAC,GAAe,IAAbC,EAAY,EAAZA,MAAY,EACEC,mBAAS,MADX,mBACrBC,EADqB,KACZC,EADY,OAEMF,mBAAS,MAFf,mBAErBG,EAFqB,KAEVC,EAFU,KAiB5B,OAbAC,qBAAU,WACR,IAAMC,EAAQC,aAAaC,QAAQ,SACrB,OAAVF,GAAkBA,EAAMG,OAAS,GACnCC,KAAKC,MAAML,GAAOM,QAAO,SAAAC,GACnBA,EAAGC,KAAOf,EAAMe,IAAIZ,GAAW,MAEvC,IAAMa,EAAUR,aAAaC,QAAQ,WACrB,OAAZO,GAAoBA,EAAQN,OAAS,GACvCC,KAAKC,MAAMI,GAASH,QAAO,SAAAC,GACrBA,EAAGC,KAAOf,EAAMe,IAAIV,GAAa,QAExC,CAACL,EAAMe,KAGR,sBAAKE,UAAWC,IAAEC,sBAAlB,UACE,wBACEJ,GAAG,QACHK,QAAS,kBAnDK,SAAApB,GACpB,IAAMO,EAAQc,SAASC,eAAe,SACtCf,EAAMgB,UAAUC,OAAON,IAAEO,uBACzBlB,EAAMgB,UAAUC,OAAON,IAAEQ,0BACzB,IAAIC,EAAOhB,KAAKC,MAAMJ,aAAaC,QAAQ,WAAa,GACpDkB,EAAKC,MAAK,SAAAd,GAAE,OAAIA,EAAGC,KAAOf,EAAMe,OAClCY,EAAOA,EAAKd,QAAO,SAAAC,GAAE,OAAIA,EAAGC,KAAOf,EAAMe,MACzCR,EAAMsB,YAAc,iBAEpBF,EAAKG,KAAK9B,GACVO,EAAMsB,YAAc,qBAEtBrB,aAAauB,QAAQ,QAASpB,KAAKqB,UAAUL,IAuCxBM,CAAcjC,IAC7BiB,UACEf,EAAUgB,IAAEQ,yBAA2BR,IAAEO,sBAJ7C,SAOGvB,EAAU,oBAAsB,iBAEnC,wBACEa,GAAG,UACHK,QAAS,kBA7CO,SAAApB,GACtB,IAAMgB,EAAUK,SAASC,eAAe,WACxCN,EAAQO,UAAUC,OAAON,IAAEO,uBAC3BT,EAAQO,UAAUC,OAAON,IAAEQ,0BAC3B,IAAIC,EAAOhB,KAAKC,MAAMJ,aAAaC,QAAQ,aAAe,GACtDkB,EAAKC,MAAK,SAAAd,GAAE,OAAIA,EAAGC,KAAOf,EAAMe,OAClCY,EAAOA,EAAKd,QAAO,SAAAC,GAAE,OAAIA,EAAGC,KAAOf,EAAMe,MACzCC,EAAQa,YAAc,mBAEtBF,EAAKG,KAAK9B,GACVgB,EAAQa,YAAc,uBAExBrB,aAAauB,QAAQ,UAAWpB,KAAKqB,UAAUL,IAiC1BO,CAAgBlC,IAC/BiB,UACEb,EAAYc,IAAEQ,yBAA2BR,IAAEO,sBAJ/C,SAOGrB,EAAY,sBAAwB,uBCmE9B+B,UAhIf,WAAmB,IAEXpB,EADaqB,cAAXC,OACUtB,GAFF,EAGQd,mBAAS,IAHjB,mBAGTqC,EAHS,KAGHC,EAHG,OAIQtC,mBAAS,KAJjB,mBAITuC,EAJS,KAIHC,EAJG,KAMhBnC,qBAAU,WACR,IAAMoC,EAAOlC,aAAaC,QAAQ,QAC7BiC,GACLD,EAAQC,KACP,IAEHpC,qBAAU,WACR,sBAAC,gCAAAqC,EAAA,+EAEuBC,YAAU7B,GAFjC,UAGiB,QADR8B,EAFT,SAG0C,IAAjBA,EAAMnC,OAH/B,iEAIwBoC,YAAU/B,GAJlC,UAKkB,QADTgC,EAJT,SAK4C,IAAlBA,EAAOrC,OALjC,oEAOuB,CAClBK,GAAIA,EACJiC,IAAKD,EAAOE,QAAQ,GAAKF,EAAOE,QAAQ,GAAGD,IAAM,KACjDE,cACEL,EAAMK,eAAN,0CACmCL,EAAMK,eAC3CC,aAAcN,EAAMM,aAChBN,EAAMM,aACN,qBACJC,OAAQP,EAAMO,OAASP,EAAMO,OAAS,GACtCC,eAAgBR,EAAMQ,eAClBR,EAAMQ,eACN,sBACJC,WAAYT,EAAMS,WAAaT,EAAMS,WAAa,gBAClDC,SAAUV,EAAMU,SAAWV,EAAMU,SAAW,uBArBjD,QAOSC,EAPT,OAuBGjB,EAAQiB,GAvBX,kDAyBGjB,EAAQ,MAzBX,yDAAD,KA4BC,CAACxB,IAEJ,IAAM0C,EAAc,kBAAMC,KAAKC,MAAsB,SAAhBD,KAAKE,UAAqBC,SAAS,KAExE,OACE,qCACE,qBAAK5C,UAAWC,IAAE4C,mBAAlB,SACE,cAACC,EAAA,EAAD,CAAQC,KAAe,MAATxB,EAAe,OAAS,SAAUyB,GAAIzB,MAErDF,GAAwB,IAAhBA,EAAK5B,OACZ,sBAAKO,UAAWC,IAAEgD,eAAlB,UACE,cAAC,EAAD,CAAQlE,MAAOsC,IACf,sBAAKrB,UAAWC,IAAEiD,oBAAlB,UACG7B,EAAKU,IACJ,wBACE/B,UAAWC,IAAEkD,sBACbC,MAAM,UACNC,MAAM,MACNC,OAAO,MACPC,IAAG,wCAAmClC,EAAKU,OAG7C,qBACE/B,UAAWC,IAAEuD,mBACbC,IAAI,UACJF,IACElC,EAAKY,cACDZ,EAAKY,cACL,mGAENoB,MAAM,QACNC,OAAO,UAIX,sBAAKtD,UAAWC,IAAEyD,mBAAlB,UACE,oBAAI1D,UAAWC,IAAE0D,aAAjB,SAAgCtC,EAAKe,iBACrC,oBAAIpC,UAAWC,IAAE2D,YAAjB,SAA+BvC,EAAKa,eACpC,qBAAIlC,UAAWC,IAAE4D,kBAAjB,qBACWxC,EAAKgB,WAAa,mBAE7B,qBAAIrC,UAAWC,IAAE6D,mBAAjB,UACE,oBAAI9D,UAAWC,IAAE8D,8BAAjB,qBAAoD,SAG5B,IAAvB1C,EAAKc,OAAO1C,OACX4B,EAAKc,OAAO6B,KAAI,WAAWC,GAAO,IAAfC,EAAc,EAAdA,KACjB,OACE,oBACElE,UAAWC,IAAEkE,wBACbC,MAAO,CACLC,MAAO,IAAM7B,IACb8B,gBAAiB,IAAM9B,KAJ3B,SAQG0B,GAFID,MAOX,oBACEjE,UAAWC,IAAEkE,wBACbC,MAAO,CACLC,MAAO,IAAM7B,IACb+B,WAAY,IAAM/B,KAJtB,2BAMM,WAMV,oBAAIxC,UAAWC,IAAEuE,gBAAjB,SAAmCnD,EAAKiB,iBAG5C,sBAAKtC,UAAWC,IAAEwE,0BAAlB,UACE,cAAC3B,EAAA,EAAD,CAAQC,KAAK,OAAOC,GAAE,kBAAalD,EAAb,WACtB,cAACgD,EAAA,EAAD,CAAQC,KAAK,SAASC,GAAE,kBAAalD,EAAb,mBAI5B,oBAAIE,UAAWC,IAAEyE,aAAjB,8C,yQCnIFC,EAAQC,EAAQ,IAEtBD,EAAME,SAASC,QAAU,+BAGzBH,EAAME,SAASzD,OAAS,CACtB2D,QAHa,oCAMf,IAAMC,EAAQ,uCAAG,4CAAAtD,EAAA,6DAAOuD,EAAP,+BAAc,EAAd,SACQN,EAAMO,IAAN,iCAAoCD,IAD5C,uBACP5D,EADO,EACPA,KADO,kBAERA,GAFQ,2CAAH,qDAKR8D,EAAS,uCAAG,WAAOC,GAAP,+BAAA1D,EAAA,6DAAeuD,EAAf,+BAAsB,EAAtB,SACON,EAAMO,IAAN,4CACgBD,EADhB,sCACkDG,IAFzD,uBACR/D,EADQ,EACRA,KADQ,kBAITA,GAJS,2CAAH,sDAOTM,EAAS,uCAAG,WAAM7B,GAAN,iBAAA4B,EAAA,sEACOiD,EAAMO,IAAN,iBAAoBpF,EAApB,oBADP,uBACRuB,EADQ,EACRA,KADQ,kBAETA,GAFS,2CAAH,sDAKTQ,EAAS,uCAAG,WAAM/B,GAAN,iBAAA4B,EAAA,sEACOiD,EAAMO,IAAN,iBAAoBpF,EAApB,2BADP,uBACRuB,EADQ,EACRA,KADQ,kBAETA,GAFS,2CAAH,sDAKTgE,EAAO,uCAAG,WAAMvF,GAAN,iBAAA4B,EAAA,sEACSiD,EAAMO,IAAN,iBAAoBpF,EAApB,4BADT,uBACNuB,EADM,EACNA,KADM,kBAEPA,GAFO,2CAAH,sDAKPiE,EAAS,uCAAG,WAAOxF,GAAP,+BAAA4B,EAAA,6DAAWuD,EAAX,+BAAkB,EAAlB,SACON,EAAMO,IAAN,iBACXpF,EADW,wCACuBmF,IAF9B,uBACR5D,EADQ,EACRA,KADQ,kBAITA,GAJS,2CAAH,uD,mBCnCfzC,EAAOC,QAAU,CAAC,eAAiB,+BAA+B,mBAAqB,mCAAmC,0BAA4B,0CAA0C,oBAAsB,oCAAoC,sBAAwB,sCAAsC,mBAAqB,mCAAmC,mBAAqB,mCAAmC,aAAe,6BAA6B,YAAc,4BAA4B,kBAAoB,kCAAkC,gBAAkB,gCAAgC,mBAAqB,mCAAmC,8BAAgC,8CAA8C,wBAA0B,wCAAwC,aAAe","file":"static/js/DetailPage.7ee748a1.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"queue_watched_wrapper\":\"Toggle_queue_watched_wrapper__2iffa\",\"queue_watched_btn_add\":\"Toggle_queue_watched_btn_add__20uUa\",\"glowing\":\"Toggle_glowing__LCrKg\",\"queue_watched_btn_delete\":\"Toggle_queue_watched_btn_delete__1pY5M\"};","import { useEffect, useState } from 'react';\n\nimport s from './Toggle.module.css';\n\nconst toggleToQueue = movie => {\n  const queue = document.getElementById('queue');\n  queue.classList.toggle(s.queue_watched_btn_add);\n  queue.classList.toggle(s.queue_watched_btn_delete);\n  let film = JSON.parse(localStorage.getItem('queue')) || [];\n  if (film.find(el => el.id === movie.id)) {\n    film = film.filter(el => el.id !== movie.id);\n    queue.textContent = 'Add to queue';\n  } else {\n    film.push(movie);\n    queue.textContent = 'Delete from queue';\n  }\n  localStorage.setItem('queue', JSON.stringify(film));\n};\n\nconst toggleToWatched = movie => {\n  const watched = document.getElementById('watched');\n  watched.classList.toggle(s.queue_watched_btn_add);\n  watched.classList.toggle(s.queue_watched_btn_delete);\n  let film = JSON.parse(localStorage.getItem('watched')) || [];\n  if (film.find(el => el.id === movie.id)) {\n    film = film.filter(el => el.id !== movie.id);\n    watched.textContent = 'Add to watched';\n  } else {\n    film.push(movie);\n    watched.textContent = 'Delete from watched';\n  }\n  localStorage.setItem('watched', JSON.stringify(film));\n};\n\nconst Toggle = ({ movie }) => {\n  const [isQueue, setIsQueue] = useState(null);\n  const [isWatched, setIsWatched] = useState(null);\n\n  useEffect(() => {\n    const queue = localStorage.getItem('queue');\n    if (queue !== null && queue.length > 0)\n      JSON.parse(queue).filter(el => {\n        if (el.id === movie.id) setIsQueue(true);\n      });\n    const watched = localStorage.getItem('watched');\n    if (watched !== null && watched.length > 0)\n      JSON.parse(watched).filter(el => {\n        if (el.id === movie.id) setIsWatched(true);\n      });\n  }, [movie.id]);\n\n  return (\n    <div className={s.queue_watched_wrapper}>\n      <button\n        id=\"queue\"\n        onClick={() => toggleToQueue(movie)}\n        className={\n          isQueue ? s.queue_watched_btn_delete : s.queue_watched_btn_add\n        }\n      >\n        {isQueue ? 'Delete from queue' : 'Add to queue'}\n      </button>\n      <button\n        id=\"watched\"\n        onClick={() => toggleToWatched(movie)}\n        className={\n          isWatched ? s.queue_watched_btn_delete : s.queue_watched_btn_add\n        }\n      >\n        {isWatched ? 'Delete from watched' : 'Add to watched'}\n      </button>\n    </div>\n  );\n};\n\nexport default Toggle;\n","import { useEffect, useState } from 'react';\nimport { useRouteMatch } from 'react-router-dom';\n\nimport s from './Detail.module.css';\nimport { getDetail, getIframe } from '../../data-api/data-api';\nimport Button from '../Navigation/Button/Button';\nimport Toggle from '../Library/Parts/Toggle/Toggle';\n\nfunction Detail() {\n  const { params } = useRouteMatch();\n  const id = params.id;\n  const [data, setData] = useState([]);\n  const [from, setFrom] = useState('/');\n\n  useEffect(() => {\n    const path = localStorage.getItem('path');\n    if (!path) return;\n    setFrom(path);\n  }, []);\n\n  useEffect(() => {\n    (async function () {\n      try {\n        const array = await getDetail(id);\n        if (array === null || array.length === 0) return;\n        const iframe = await getIframe(id);\n        if (iframe === null || iframe.length === 0) return;\n\n        const state = await {\n          id: id,\n          key: iframe.results[0] ? iframe.results[0].key : null,\n          backdrop_path:\n            array.backdrop_path &&\n            `https://image.tmdb.org/t/p/w500/${array.backdrop_path}`,\n          release_date: array.release_date\n            ? array.release_date\n            : 'Data is missing...',\n          genres: array.genres ? array.genres : [],\n          original_title: array.original_title\n            ? array.original_title\n            : 'Title is missing...',\n          popularity: array.popularity ? array.popularity : 'is missing...',\n          overview: array.overview ? array.overview : 'Overview is missing',\n        };\n        setData(state);\n      } catch (err) {\n        setData(null);\n      }\n    })();\n  }, [id]);\n\n  const randomColor = () => Math.floor(Math.random() * 16777215).toString(16);\n\n  return (\n    <>\n      <div className={s.detail_btn_wrapper}>\n        <Button text={from === '/' ? 'Home' : 'Movies'} to={from} />\n      </div>\n      {data && data.length !== 0 ? (\n        <div className={s.detail_wrapper}>\n          <Toggle movie={data} />\n          <div className={s.wrapper_description}>\n            {data.key ? (\n              <iframe\n                className={s.detail_iframe_trailer}\n                title=\"trailer\"\n                width=\"420\"\n                height=\"345\"\n                src={`https://www.youtube.com/embed/${data.key}`}\n              />\n            ) : (\n              <img\n                className={s.detail_img_trailer}\n                alt=\"trailer\"\n                src={\n                  data.backdrop_path\n                    ? data.backdrop_path\n                    : 'https://thumbs.dreamstime.com/z/illustration-red-unavailable-sign-white-background-174556653.jpg'\n                }\n                width=\"500px\"\n                height=\"300px\"\n              />\n            )}\n\n            <div className={s.detail_description}>\n              <h2 className={s.detail_title}>{data.original_title}</h2>\n              <h2 className={s.detail_data}>{data.release_date}</h2>\n              <h2 className={s.detail_popularity}>\n                Votes : {data.popularity + ' 💖'}\n              </h2>\n              <ul className={s.detail_genres_list}>\n                <li className={s.detail_genres_list_first_item} key=\"first\">\n                  Genres :\n                </li>\n                {data.genres.length !== 0 ? (\n                  data.genres.map(({ name }, i) => {\n                    return (\n                      <li\n                        className={s.detail_genres_list_item}\n                        style={{\n                          color: '#' + randomColor(),\n                          backgroundColor: '#' + randomColor(),\n                        }}\n                        key={i}\n                      >\n                        {name}\n                      </li>\n                    );\n                  })\n                ) : (\n                  <li\n                    className={s.detail_genres_list_item}\n                    style={{\n                      color: '#' + randomColor(),\n                      background: '#' + randomColor(),\n                    }}\n                    key=\"warn\"\n                  >\n                    not available!\n                  </li>\n                )}\n              </ul>\n              <h2 className={s.detail_overview}>{data.overview}</h2>\n            </div>\n          </div>\n          <div className={s.detail_navigation_wrapper}>\n            <Button text=\"Cast\" to={`/movies/${id}/cast`} />\n            <Button text=\"Review\" to={`/movies/${id}/review`} />\n          </div>\n        </div>\n      ) : (\n        <h3 className={s.detail_error}>Detail content is missed...</h3>\n      )}\n    </>\n  );\n}\nexport default Detail;\n","const axios = require('axios');\n\naxios.defaults.baseURL = 'https://api.themoviedb.org/3';\nconst apiKey = '78f2432cb0b978404715fbeff43c36be';\n\naxios.defaults.params = {\n  api_key: apiKey,\n};\n\nconst getTrend = async (page = 1) => {\n  const { data } = await axios.get(`/trending/all/day?page=${page}`);\n  return data;\n};\n\nconst getSearch = async (search, page = 1) => {\n  const { data } = await axios.get(\n    `/search/movie?language=en-US&page=${page}&include_adult=false&query=${search}`,\n  );\n  return data;\n};\n\nconst getDetail = async id => {\n  const { data } = await axios.get(`/movie/${id}?language=en-US`);\n  return data;\n};\n\nconst getIframe = async id => {\n  const { data } = await axios.get(`/movie/${id}/videos?language=en-US`);\n  return data;\n};\n\nconst getCast = async id => {\n  const { data } = await axios.get(`/movie/${id}/credits?language=en-US`);\n  return data;\n};\n\nconst getReview = async (id, page = 1) => {\n  const { data } = await axios.get(\n    `/movie/${id}/reviews?language=en-US&page=${page}`,\n  );\n  return data;\n};\n\nexport { getTrend, getSearch, getDetail, getIframe, getCast, getReview };\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"detail_wrapper\":\"Detail_detail_wrapper__2g3-U\",\"detail_btn_wrapper\":\"Detail_detail_btn_wrapper__vHQRb\",\"detail_navigation_wrapper\":\"Detail_detail_navigation_wrapper__bZ3Nt\",\"wrapper_description\":\"Detail_wrapper_description__c2nny\",\"detail_iframe_trailer\":\"Detail_detail_iframe_trailer__12nuf\",\"detail_img_trailer\":\"Detail_detail_img_trailer__jtSQf\",\"detail_description\":\"Detail_detail_description__CXzhA\",\"detail_title\":\"Detail_detail_title__1T2ek\",\"detail_data\":\"Detail_detail_data__3ePlD\",\"detail_popularity\":\"Detail_detail_popularity__KW7vT\",\"detail_overview\":\"Detail_detail_overview__3N9OT\",\"detail_genres_list\":\"Detail_detail_genres_list__34AWE\",\"detail_genres_list_first_item\":\"Detail_detail_genres_list_first_item__3tadl\",\"detail_genres_list_item\":\"Detail_detail_genres_list_item__1KLnF\",\"detail_error\":\"Detail_detail_error__1dO7d\"};"],"sourceRoot":""}